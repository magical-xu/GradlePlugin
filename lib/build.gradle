apply plugin: 'groovy'
apply plugin: 'maven'

dependencies {

  compile gradleApi()
  compile localGroovy()
}

group = 'com.magical.plugin'
version = '1.0.0'

uploadArchives {

  repositories {

    mavenDeployer {

      //设置插件的GAV参数，对应classpath 路径
      pom.groupId = 'com.magical.plugin'
      pom.artifactId = 'test'
      //将文件发布到下面目录
      repository(url: uri('../release'))

      //提交到远程服务器的话
      //      repository(url: "http://www.xxx.com/repos") {
      //        authentication(userName: "admin", password: "admin")
      //      }
    }
  }
}

repositories {
  mavenCentral()
}